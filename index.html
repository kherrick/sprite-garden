<!doctype html>
<html lang="en">
  <head>
    <title>Sprite Garden</title>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Sprite Garden - Grow sprites" />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="assets/icons/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png" />
    <script src="service-worker/init.mjs" type="module"></script>
  </head>
  <body>
    <div id="gameContainer">
      <canvas id="canvas"></canvas>
      <div id="ui-grid" class="ui-grid">
        <div class="ui-grid__corner ui-grid__corner--top-left">
          <div id="stats">
            <div class="ui-grid__corner--heading">üå± Sprite Garden</div>
            <div class="ui-grid__corner--container" hidden>
              <div>Biome: <span id="currentBiome">Forest</span></div>
              <div>Depth: <span id="currentDepth">Surface</span></div>
              <div>Total Seeds: <span id="seedCount">0</span></div>
              <div>Time: <span id="gameTime">0</span>s</div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--top-right">
          <div id="settings">
            <div class="ui-grid__corner--heading">‚öôÔ∏è Settings</div>
            <div class="ui-grid__corner--container" hidden>
              <div id="resolution">
                <select id="resolutionSelect">
                  <option value="400">400x400</option>
                  <option value="fullscreen">Fullscreen</option>
                  <option value="800">800x800</option>
                </select>
              </div>
              <button id="toggleView">
                üîç <span id="viewModeText">Normal</span>
              </button>
              <button id="toggleFog">
                ‚òÅ <span id="fogModeText">Fog</span>
              </button>
              <button id="toggleBreakMode">
                ‚õèÔ∏è <span id="breakModeText">Regular</span>
              </button>
              <div id="mapEditor" hidden>
                <div class="ui-grid__corner--sub-heading">üó∫Ô∏è Map Editor</div>
                <button id="toggleMapEditor">
                  üìù <span id="mapEditorText">Enable Editor</span>
                </button>
                <div id="mapEditorControls" hidden>
                  <div>
                    Brush Size:
                    <select id="brushSizeSelect">
                      <option value="1">1x1</option>
                      <option value="3">3x3</option>
                      <option value="5">5x5</option>
                    </select>
                  </div>
                  <div style="margin-top: 5px">
                    <div style="margin-bottom: 5px">üåç Terrain:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="AIR"
                        style="background: #87ceeb"
                      >
                        Air
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="DIRT"
                        style="background: #8b4513; color: white"
                      >
                        Dirt
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="GRASS"
                        style="background: #90ee90"
                      >
                        Grass
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="STONE"
                        style="background: #696969; color: white"
                      >
                        Stone
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="SAND"
                        style="background: #f4a460"
                      >
                        Sand
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CLAY"
                        style="background: #cd853f"
                      >
                        Clay
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="SNOW"
                        style="background: #fffafa"
                      >
                        Snow
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="ICE"
                        style="background: #b0e0e6"
                      >
                        Ice
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">üèîÔ∏è Resources:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="COAL"
                        style="background: #2f4f4f; color: white"
                      >
                        Coal
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="IRON"
                        style="background: #b87333"
                      >
                        Iron
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="GOLD"
                        style="background: #ffd700"
                      >
                        Gold
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="BEDROCK"
                        style="background: #1c1c1c; color: white"
                      >
                        Bedrock
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">üå≥ Nature:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                        margin-bottom: 10px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="TREE_TRUNK"
                        style="background: #8b4513; color: white"
                      >
                        Trunk
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="TREE_LEAVES"
                        style="background: #228b22; color: white"
                      >
                        Leaves
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="WATER"
                        style="background: #4169e1; color: white"
                      >
                        Water
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="LAVA"
                        style="background: #ff4500; color: white"
                      >
                        Lava
                      </button>
                    </div>
                    <div style="margin-bottom: 5px">üå± Crops:</div>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: repeat(4, 1fr);
                        gap: 2px;
                      "
                    >
                      <button
                        class="tile-btn"
                        data-tile="WHEAT"
                        style="background: #daa520"
                      >
                        Wheat
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CARROT"
                        style="background: #ff8c00"
                      >
                        Carrot
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="MUSHROOM"
                        style="background: #8b0000; color: white"
                      >
                        Mushroom
                      </button>
                      <button
                        class="tile-btn"
                        data-tile="CACTUS"
                        style="background: #32cd32"
                      >
                        Cactus
                      </button>
                    </div>
                  </div>
                  <div style="margin-top: 10px">
                    <button id="clearMapEditor">üßπ Clear All</button>
                    <button id="fillMapEditor">ü™£ Fill Layer</button>
                  </div>
                  <div style="margin-top: 10px">
                    <button id="saveMapAsState">üíæ Save as State</button>
                    <button id="resetToGenerated">üåç Reset to Generated</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-left">
          <div id="controls">
            <div class="ui-grid__corner--heading">‚å®Ô∏è Controls</div>
            <div class="ui-grid__corner--container" hidden>
              <div class="control-instruction">w/‚Üë/Space: Jump</div>
              <div class="control-instruction">f: Plant/Harvest</div>
              <div class="control-instruction">r: Break Block</div>
              <div class="control-instruction">a/d or ‚Üê/‚Üí: Move</div>
              <div class="control-instruction">u/i/o/j/l/m/,/.: Set Block</div>
              <div class="control-instruction">Mouse: Inspect Tiles</div>
              <div class="control-instruction">Ctrl+S: World State</div>
            </div>
          </div>
        </div>

        <div class="ui-grid__corner ui-grid__corner--bottom-right">
          <div id="inventory">
            <div class="ui-grid__corner--heading" id="seeds">üéí Seeds</div>
            <div class="ui-grid__corner--container" hidden>
              <div>Selected: <span id="selectedSeed">None</span></div>
              <div>
                <button class="seed-btn" data-wheat>
                  üåæ <span id="wheatCount">0</span>
                </button>
                <button class="seed-btn" data-carrot>
                  ü•ï <span id="carrotCount">0</span>
                </button>
              </div>
              <div>
                <button class="seed-btn" data-mushroom>
                  üçÑ <span id="mushroomCount">0</span>
                </button>
                <button class="seed-btn" data-cactus>
                  üåµ <span id="cactusCount">0</span>
                </button>
              </div>

              <div
                id="materials"
                style="
                  margin-top: 10px;
                  border-top: 1px solid #ccc;
                  padding-top: 10px;
                "
              >
                <div class="ui-grid__corner--sub-heading">üß± Materials</div>
                <div>Selected: <span id="selectedMaterial">None</span></div>
                <div>
                  <button class="material-btn" data-dirt>
                    üü§ <span id="dirtCount">0</span>
                  </button>
                  <button class="material-btn" data-stone>
                    ü™® <span id="stoneCount">0</span>
                  </button>
                </div>
                <div>
                  <button class="material-btn" data-wood>
                    ü™µ <span id="woodCount">0</span>
                  </button>
                  <button class="material-btn" data-sand>
                    üèñÔ∏è <span id="sandCount">0</span>
                  </button>
                </div>
                <div>
                  <button class="material-btn" data-clay>
                    üß± <span id="clayCount">0</span>
                  </button>
                  <button class="material-btn" data-coal>
                    ‚ö´ <span id="coalCount">0</span>
                  </button>
                </div>
                <div>
                  <button class="material-btn" data-iron>
                    üî© <span id="ironCount">0</span>
                  </button>
                  <button class="material-btn" data-gold>
                    üü° <span id="goldCount">0</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="seed-controls" hidden>
        <h4>World Generation</h4>

        <div class="seed-controls__actions">
          <label>
            Seed:
            <input
              id="worldSeedInput"
              placeholder="Enter seed..."
              type="number"
            />
          </label>

          <button id="generateWithSeed">Generate</button>
          <button id="randomSeed">Random</button>
          <button id="copySeed">Copy Seed</button>
        </div>

        <div class="current-seed">
          <p>Current seed: <span id="currentSeed"></span></p>
        </div>

        <h4>New / Load / Save Game</h4>

        <div class="seed-controls__save-load">
          <button id="generateNewWorld">üåç New World</button>
          <button id="loadCompressedState">Load Game</button>
          <button id="saveCompressedState">Save Game</button>
        </div>
      </div>

      <!-- Mobile Touch Controls -->
      <div id="touchControls" hidden>
        <div class="dpad">
          <div class="touch-btn up-left" data-key="upleft">‚Üñ</div>
          <div class="touch-btn up" data-key="w">‚Üë</div>
          <div class="touch-btn up-right" data-key="upright">‚Üó</div>

          <div class="touch-btn left" data-key="a">‚Üê</div>
          <div class="touch-btn right" data-key="d">‚Üí</div>

          <div class="touch-btn down-left" data-key="downleft">‚Üô</div>
          <div class="touch-btn down" data-key="s">‚Üì</div>
          <div class="touch-btn down-right" data-key="downright">‚Üò</div>
        </div>
        <div class="action-buttons">
          <div class="touch-btn" data-key=" ">ü¶ò</div>
          <div class="touch-btn" data-key="r">‚õèÔ∏è</div>
          <div class="touch-btn" data-key="f">üå±</div>
        </div>
      </div>
    </div>
    <script type="module" src="./index.mjs"></script>
  </body>
</html>
